paths:
  /api/settings:
    get:
      tags:
        - Settings
      summary: Sirket ayarlarini getir
      description: |
        Sirketin temel ayarlarini doner.
        - Logo, baslik ve check-in ayarlari
      security:
        - bearerAuth: []
      parameters:
        - name: companyId
          in: query
          schema:
            type: string
          description: Sirket ID (bayi_admin icin)
      responses:
        '200':
          description: Sirket ayarlari
          content:
            application/json:
              schema:
                type: object
                properties:
                  logo:
                    type: string
                    description: Logo URL
                  title:
                    type: string
                    description: Sirket basligi
                  checkInSettings:
                    $ref: '#/components/schemas/CheckInSettings'
        '400':
          description: Sirket secilmedi
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '404':
          $ref: '#/components/responses/NotFoundError'

    put:
      tags:
        - Settings
      summary: Sirket ayarlarini guncelle
      description: |
        Sirket ayarlarini gunceller.
        - Logo yukleme destekler (max 500KB, jpeg/jpg/png/gif)
        - Check-in ayarlarini gunceller
      security:
        - bearerAuth: []
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                companyId:
                  type: string
                  description: Sirket ID (bayi_admin icin)
                title:
                  type: string
                  description: Sirket basligi
                logo:
                  type: string
                  format: binary
                  description: Logo dosyasi (max 500KB)
                checkInSettings:
                  type: string
                  description: Check-in ayarlari (JSON string)
      responses:
        '200':
          description: Ayarlar guncellendi
          content:
            application/json:
              schema:
                type: object
                properties:
                  logo:
                    type: string
                  title:
                    type: string
                  checkInSettings:
                    $ref: '#/components/schemas/CheckInSettings'
        '400':
          description: Sirket secilmedi veya gecersiz dosya
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '404':
          $ref: '#/components/responses/NotFoundError'

  /api/settings/company:
    get:
      tags:
        - Settings
      summary: Tam sirket ayarlari
      description: |
        Calisanlar icin tam sirket ayarlarini doner.
        - Avans ayarlari dahil
        - Onay zinciri ayarlari dahil
      security:
        - bearerAuth: []
      responses:
        '200':
          description: Tam sirket ayarlari
          content:
            application/json:
              schema:
                type: object
                properties:
                  logo:
                    type: string
                  title:
                    type: string
                  checkInSettings:
                    $ref: '#/components/schemas/CheckInSettings'
                  advanceSettings:
                    $ref: '#/components/schemas/AdvanceSettings'
                  leaveApprovalSettings:
                    type: object
                    description: Izin onay ayarlari
                  advanceApprovalSettings:
                    type: object
                    description: Avans onay ayarlari
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'

components:
  schemas:
    CheckInSettings:
      type: object
      properties:
        enabled:
          type: boolean
          description: Check-in sistemi aktif mi
        locationRequired:
          type: boolean
          description: Konum zorunlu mu
        autoCheckIn:
          type: boolean
          description: Otomatik check-in
        allowedLocation:
          type: object
          properties:
            latitude:
              type: number
              description: Enlem
            longitude:
              type: number
              description: Boylam
            radius:
              type: number
              description: Izin verilen yaricap (metre)
              default: 100

    AdvanceSettings:
      type: object
      properties:
        enabled:
          type: boolean
          description: Avans sistemi aktif mi
          default: false
        maxAmountType:
          type: string
          enum: [PERCENTAGE, FIXED]
          description: Maksimum tutar tipi
          default: PERCENTAGE
        maxAmountValue:
          type: number
          description: Maksimum tutar degeri
          default: 50
        maxInstallments:
          type: integer
          description: Maksimum taksit sayisi
          default: 3
        minWorkMonths:
          type: integer
          description: Minimum calisma suresi (ay)
          default: 3
        requestStartDay:
          type: integer
          description: Talep baslangic gunu (ayin)
          default: 1
        monthlyRequestLimit:
          type: integer
          description: Aylik talep limiti
          default: 1
        approvalRequired:
          type: boolean
          description: Onay gerekli mi
          default: true
        allowInstallments:
          type: boolean
          description: Taksit izni var mi
          default: true
