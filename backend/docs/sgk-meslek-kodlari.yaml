paths:
  /api/sgk-meslek-kodlari:
    get:
      tags:
        - SGK Meslek Kodlari
      summary: Meslek kodlarini ara/listele
      description: |
        SGK meslek kodlarini arar veya listeler.
        - Kod veya ad icerisinde arama yapar
        - Turkce karakter normalizasyonu destekler
      security:
        - bearerAuth: []
      parameters:
        - name: search
          in: query
          schema:
            type: string
          description: Arama terimi (kod veya ad)
          example: yazilim
        - name: limit
          in: query
          schema:
            type: integer
            default: 20
            maximum: 100
          description: Maksimum sonuc sayisi
      responses:
        '200':
          description: Meslek kodlari listesi
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  count:
                    type: integer
                    description: Donen kayit sayisi
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/SgkMeslekKodu'
        '401':
          $ref: '#/components/responses/UnauthorizedError'

  /api/sgk-meslek-kodlari/stats/count:
    get:
      tags:
        - SGK Meslek Kodlari
      summary: Toplam meslek kodu sayisi
      description: Veritabanindaki toplam meslek kodu sayisini doner.
      security:
        - bearerAuth: []
      responses:
        '200':
          description: Toplam sayi
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  count:
                    type: integer
        '401':
          $ref: '#/components/responses/UnauthorizedError'

  /api/sgk-meslek-kodlari/{kod}:
    get:
      tags:
        - SGK Meslek Kodlari
      summary: Meslek kodu detayi
      description: Belirtilen meslek kodunun detaylarini doner.
      security:
        - bearerAuth: []
      parameters:
        - name: kod
          in: path
          required: true
          schema:
            type: string
          description: SGK meslek kodu
          example: '2514.01'
      responses:
        '200':
          description: Meslek kodu detayi
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  data:
                    $ref: '#/components/schemas/SgkMeslekKodu'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'

components:
  schemas:
    SgkMeslekKodu:
      type: object
      properties:
        _id:
          type: string
        kod:
          type: string
          description: SGK meslek kodu
          example: '2514.01'
        ad:
          type: string
          description: Meslek adi
          example: Yazilim Gelistirici

